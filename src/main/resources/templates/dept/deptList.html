<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:shiro="http://www.pollix.at/thymeleaf/shiro">
<!--引用通用head--->
<head th:replace="common/commonHeader::common_header(~{::title},~{::link},~{})">
    <title>部门列表</title>
    <link th:href="@{/pluggins/jqTreeGrid/jquery.treegrid.css}" rel="stylesheet">
</head>
<body class="gray-bg">
<div class="wrapper wrapper-content ">

    <div class="col-sm-12">
        <div class="ibox">
            <div class="ibox-body">
                <div class="fixed-table-toolbar">
                    <div class="columns pull-left">
                        <button onclick="toAdd('0')" shiro:hasPermission="sys:dept:add" class="btn btn-primary">
                            <i class="fa fa-plus hidden" aria-hidden="true"></i>添加
                        </button>
                        <button onclick="batchDelete()" shiro:hasPermission="sys:dept:batchRemove" class="btn btn-primary">
                            <i class="fa fa-trash" aria-hidden="true"></i>删除
                        </button>
                    </div>
                    <div class="columns pull-right">
                        <button class="btn btn-success" onclick="reLoad()">查询</button>
                    </div>
                    <div class="columns pull-right">
                        <input type="text" id="deptName" class="empty" style="width: 80px;margin-left: 3px;font-weight: normal;" placeholder="请输入部门名称"/>
                    </div>
                </div>
                <table id="deptTable" data-mobile-responsive="true">
                </table>
            </div>
        </div>
    </div>
</div>
<!--权限控制-->
<script type="application/javascript">
    let s_add_h=false;
    let s_edit_h=false;
    let s_remove_h=false;
</script>
<shiro:hasPermission name="sys:dept:add">
    <script type="application/javascript">
        s_add_h=true;
    </script>
</shiro:hasPermission>
<shiro:hasPermission name="sys:dept:edit">
    <script type="application/javascript">
        s_edit_h=true;
    </script>
</shiro:hasPermission>
<shiro:hasPermission name="sys:dept:remove">
    <script type="application/javascript">
        s_remove_h=true;
    </script>
</shiro:hasPermission>
<!--权限控制-->
<!--引用通用JS-->
<div th:replace="common/commonFoot::foot(~{})">
</div>
<!--下面js必须单独引用，否则会导致script重复被引用生成，导致错误-->
<script th:src="@{/pluggins/jqTreeGrid/jquery.treegrid.min.js}"></script>
<script th:src="@{/pluggins/jqTreeGrid/jquery.treegrid.extension.js}"></script>
<script th:src="@{/pluggins/jqTreeGrid/jquery.treegrid.bootstrap3.js}"></script>
<script th:src="@{/js/sys/dept/dept.js}" ></script>
</body>
</html>